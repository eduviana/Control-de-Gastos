import{j as e,r as n,a as r,C as L,b as M,S as P,c as O,L as E,d as A,T,F,R as k,e as w}from"./vendor.8d6f67ce.js";const _=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const t of o)if(t.type==="childList")for(const d of t.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const t={};return o.integrity&&(t.integrity=o.integrity),o.referrerpolicy&&(t.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?t.credentials="include":o.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function l(o){if(o.ep)return;o.ep=!0;const t=i(o);fetch(o.href,t)}};_();const I=({children:s,tipo:a})=>e("div",{className:`alerta ${a}`,children:s}),$=({presupuesto:s,setPresupuesto:a,setIsValidPresupuesto:i})=>{const[l,o]=n.exports.useState("");return e("div",{className:"contenedor-presupuesto contenedor sombra",children:r("form",{onSubmit:d=>{if(d.preventDefault(),!s||s<0){o("No es un presupuesto v\xE1lido");return}o(""),i(!0)},className:"formulario",children:[r("div",{className:"campo",children:[e("label",{children:"Definir Presupuesto"}),e("input",{className:"nuevo-presupuesto",type:"text",placeholder:"A\xF1ade tu Presupuesto",value:s,onChange:d=>a(Number(d.target.value))})]}),e("input",{type:"submit",value:"A\xF1adir"}),l&&e(I,{tipo:"error",children:l})]})})};const B=({gastos:s,presupuesto:a,setGastos:i,setPresupuesto:l,setIsValidPresupuesto:o})=>{const[t,d]=n.exports.useState(0),[p,u]=n.exports.useState(0),[m,f]=n.exports.useState(0);n.exports.useEffect(()=>{const g=s.reduce((x,C)=>C.cantidad+x,0),S=a-g,N=((a-S)/a*100).toFixed(2);u(S),f(g),setTimeout(()=>{d(N)},700)},[s]);const h=g=>g.toLocaleString("en-US",{style:"currency",currency:"USD"}),v=()=>{confirm("\xBFDeseas reiniciar presupuesto y gastos?")&&(i([]),l(0),o(!1))};return r("div",{className:"contenedor-presupuesto contenedor sombra dos-columnas",children:[e("div",{children:e(L,{styles:M({pathColor:t>100?"#DC2626":"#3B82F6",trailColor:"#F5F5F5",textColor:t>100?"#DC2626":"#3B82F6"}),value:t,text:`${t}% Gastado`})}),r("div",{className:"contenido-presupuesto",children:[e("button",{className:"reset-app",type:"button",onClick:v,children:"Resetear App"}),r("p",{children:[e("span",{children:"Presupuesto:"})," ",h(a)]}),r("p",{className:`${p<0?"negativo":""}`,children:[e("span",{children:"Disponible:"})," ",h(p)]}),r("p",{children:[e("span",{children:"Gastado:"})," ",h(m)]})]})]})},R=({presupuesto:s,setPresupuesto:a,isValidPresupuesto:i,setIsValidPresupuesto:l,gastos:o,setGastos:t})=>r("header",{children:[e("h1",{children:"Planificador de Gastos"}),i?e(B,{gastos:o,setGastos:t,presupuesto:s,setPresupuesto:a,setIsValidPresupuesto:l}):e($,{presupuesto:s,setPresupuesto:a,setIsValidPresupuesto:l})]}),V=({filtro:s,setFiltro:a})=>e("div",{className:"filtros sombra contendor",children:e("form",{children:r("div",{className:"campo",children:[e("label",{children:"Filtrar Gastos"}),r("select",{value:s,onChange:i=>a(i.target.value),children:[e("option",{value:"",children:"-- Todas las categor\xEDas --"}),e("option",{value:"ahorro",children:" Ahorro "}),e("option",{value:"comida",children:" Comida "}),e("option",{value:"casa",children:" Casa "}),e("option",{value:"gastos",children:" Gastos Varios "}),e("option",{value:"ocio",children:" Ocio "}),e("option",{value:"salud",children:" Salud "}),e("option",{value:"suscripciones",children:" Suscripciones "})]})]})})});const z=()=>{const s=Math.random().toString(36).substr(2),a=Date.now().toString(36);return s+a},J=s=>{const a=new Date(s),i={year:"numeric",month:"long",day:"2-digit"};return a.toLocaleDateString("es-ES",i)};var U="/assets/icono_ahorro.ff2959d3.svg",q="/assets/icono_casa.1170ce11.svg",H="/assets/icono_comida.db0a9016.svg",K="/assets/icono_gastos.e6dea3b0.svg",Q="/assets/icono_ocio.ad5d0e9e.svg",W="/assets/icono_salud.41ba3136.svg",X="/assets/icono_suscripciones.97f04dc8.svg";const Y={ahorro:U,comida:H,casa:q,gastos:K,ocio:Q,salud:W,suscripciones:X},D=({gasto:s,setGastoEditar:a,eliminarGasto:i})=>{const{categoria:l,nombre:o,cantidad:t,id:d,fecha:p}=s,u=()=>e(E,{children:e(A,{onClick:()=>a(s),children:"Editar"})}),m=()=>e(T,{children:e(A,{onClick:()=>i(d),destructive:!0,children:"Eliminar"})});return e(P,{children:e(O,{leadingActions:u(),trailingActions:m(),children:r("div",{className:"gasto sombra",children:[r("div",{className:"contenido-gasto",children:[e("img",{src:Y[l],alt:"Icono gasto"}),r("div",{className:"descripcion-gasto",children:[e("p",{className:"categoria",children:l}),e("p",{className:"nombre-gasto",children:o}),r("p",{className:"fecha-gasto",children:["Agregado el: ","",e("span",{children:J(p)})]})]})]}),r("p",{className:"cantidad-gasto",children:["$",t]})]})})})},Z=({gastos:s,setGastoEditar:a,eliminarGasto:i,filtro:l,gastosFiltrados:o})=>e("div",{className:"listado-gastos contenedor",children:l?r(F,{children:[e("h2",{children:o.length?"Gastos":"No hay gastos en esta categor\xEDa"}),o.map(t=>e(D,{gasto:t,setGastoEditar:a,eliminarGasto:i},t.id))]}):r(F,{children:[e("h2",{children:s.length?"Gastos":"No hay gastos a\xFAn"}),s.map(t=>e(D,{gasto:t,setGastoEditar:a,eliminarGasto:i},t.id))]})});var ee="/assets/cerrar.ab3aac92.svg";const oe=({setModal:s,animarModal:a,setAnimarModal:i,guardarGasto:l,gastoEditar:o,setGastoEditar:t})=>{const[d,p]=n.exports.useState(""),[u,m]=n.exports.useState(""),[f,h]=n.exports.useState(""),[v,g]=n.exports.useState(""),[S,N]=n.exports.useState(""),[x,C]=n.exports.useState("");return n.exports.useEffect(()=>{Object.keys(o).length>0&&(m(o.nombre),h(o.cantidad),g(o.categoria),C(o.id),N(o.fecha))},[]),r("div",{className:"modal",children:[e("div",{className:"cerrar-modal",children:e("img",{src:ee,alt:"Cerrar Modal",onClick:()=>{i(!1),t({}),setTimeout(()=>{s(!1)},500)}})}),r("form",{onSubmit:c=>{if(c.preventDefault(),[u,f,v].includes("")){p("Todos los campos son obligatorios"),setTimeout(()=>{p("")},3e3);return}l({nombre:u,cantidad:f,categoria:v,id:x,fecha:S})},className:`formulario ${a?"animar":"cerrar"}`,children:[e("legend",{children:o.nombre?"Editar Gasto":"Nuevo Gasto"}),d&&e(I,{tipo:"error",children:d}),r("div",{className:"campo",children:[e("label",{htmlFor:"nombre",children:"Nombre Gasto"}),e("input",{id:"nombre",type:"text",placeholder:"A\xF1ade el Nombre del Gasto",value:u,onChange:c=>m(c.target.value)})]}),r("div",{className:"campo",children:[e("label",{htmlFor:"cantidad",children:"Cantidad"}),e("input",{id:"cantidad",type:"number",placeholder:"A\xF1ade la Cantidad del Gasto: ej. 300",value:f,onChange:c=>h(Number(c.target.value))})]}),r("div",{className:"campo",children:[e("label",{htmlFor:"nombre",children:"Categor\xEDa"}),r("select",{id:"categoria",value:v,onChange:c=>g(c.target.value),children:[e("option",{value:"",children:"-- Seleccione --"}),e("option",{value:"ahorro",children:" Ahorro "}),e("option",{value:"comida",children:" Comida "}),e("option",{value:"casa",children:" Casa "}),e("option",{value:"gastos",children:" Gastos Varios "}),e("option",{value:"ocio",children:" Ocio "}),e("option",{value:"salud",children:" Salud "}),e("option",{value:"suscripciones",children:" Suscripciones "})]})]}),e("input",{type:"submit",value:o.nombre?"Guardar Cambios":"A\xF1adir Gasto"})]})]})};var te="/assets/nuevo-gasto.3ab385ce.svg";function se(){var G;const[s,a]=n.exports.useState((G=Number(localStorage.getItem("presupuesto")))!=null?G:0),[i,l]=n.exports.useState(!1),[o,t]=n.exports.useState(!1),[d,p]=n.exports.useState(!1),[u,m]=n.exports.useState(localStorage.getItem("gastos")?JSON.parse(localStorage.getItem("gastos")):[]),[f,h]=n.exports.useState({}),[v,g]=n.exports.useState(""),[S,N]=n.exports.useState([]);return n.exports.useEffect(()=>{Object.keys(f).length>0&&(t(!0),setTimeout(()=>{p(!0)},500))},[f]),n.exports.useEffect(()=>{localStorage.setItem("presupuesto",s!=null?s:0)},[s]),n.exports.useEffect(()=>{var c;localStorage.setItem("gastos",(c=JSON.stringify(u))!=null?c:[])},[u]),n.exports.useEffect(()=>{if(v){const c=u.filter(b=>b.categoria===v);N(c)}},[v]),n.exports.useEffect(()=>{var b;((b=Number(localStorage.getItem("presupuesto")))!=null?b:0)>0&&l(!0)},[]),r("div",{className:o?"fijar":"",children:[e(R,{gastos:u,setGastos:m,presupuesto:s,setPresupuesto:a,isValidPresupuesto:i,setIsValidPresupuesto:l}),i&&r(F,{children:[r("main",{children:[e(V,{filtro:v,setFiltro:g}),e(Z,{gastos:u,setGastoEditar:h,eliminarGasto:c=>{const b=u.filter(y=>y.id!==c);m(b)},filtro:v,gastosFiltrados:S})]}),e("div",{className:"nuevo-gasto",children:e("img",{src:te,alt:"icono nuevo gasto",onClick:()=>{t(!0),h({}),setTimeout(()=>{p(!0)},500)}})})]}),o&&e(oe,{setModal:t,animarModal:d,setAnimarModal:p,guardarGasto:c=>{if(c.id){const b=u.map(y=>y.id===c.id?c:y);m(b),h({})}else c.id=z(),c.fecha=Date.now(),m([...u,c]);p(!1),setTimeout(()=>{t(!1)},500)},gastoEditar:f,setGastoEditar:h})]})}k.render(e(w.StrictMode,{children:e(se,{})}),document.getElementById("root"));
